/*!
 * jquery.search.js
 * @author ydr.me
 * @version 1.1
 * 2014年7月1日15:25:59
 */
!function(t){"use strict";function r(t){t.search=t.search||location.search,this.options=t}function e(r,e){if(e===t||r.length!==e.length)return!1;if(r.length===e.length===0)return!0;for(var n=0,s=r.length;s>n;n++)if(!~$.inArray(r[n],e))return!1;return!0}function n(t,r,e){if(r.length){var n=[];return $.each(r,function(r,s){e&&(s=encodeURIComponent(s)),n.push(t+"="+s)}),n.join("&")}}var s={isStrict:!0,search:""},i=/^[^?]*\?/;$.search=function(t){return"string"===$.type(t)&&(t={search:t}),new r($.extend({},s,t))._parse()},$.search.defaults=s,r.prototype={_parse:function(){var t,r=this,e=r.options,n={},s={};return r._querystring=e.search.replace(i,""),t=r._querystring.split("&"),$.each(t,function(t,r){var i=r.indexOf("="),u=r.slice(0,i),c=r.slice(i+1);e.isStrict&&(c=decodeURIComponent(c)),u&&(s[u]?n[u]?s[u].push(c):(n[u]=!0,s[u]=[s[u],c]):s[u]=c)}),r._result=s,r},_stringify:function(){var t,r,e,s=[],i=this,u=i.options;for(t in i._result)e=i._result[t],u.isStrict&&(t=encodeURIComponent(t)),$.isArray(e)?(r=n(t,e,u.isStrict),r&&s.push(r)):(u.isStrict&&(e=encodeURIComponent(e)),s.push(t+"="+e));return i._search=s.join("&"),location.search="?"+i._search,i},get:function(r){if(r===t)return this._result;var e=$.isArray(r),n=e?r:[r],s={},i=this,u=i._result;return $.each(n,function(t,r){s[r]=u[r]}),e?s:s[r]},set:function(r,n){var s,i={},u=this;return n===t?i=r:i[r]=n,$.each(i,function(t,r){var n=u._result[t];$.isArray(r)?e(r,n)||(s=1,u._result[t]=r):(r+="",n!==r&&(s=1,u._result[t]=r))}),s&&u._stringify(),u},_transport:function(r,n,s){var i=this,u=i._result[n],c=[].slice.call(arguments,2);return u===t?(i._result[n]=[],u=[]):$.isArray(u)?(u=[],$.each(i._result[n],function(t,r){u.push(r)})):(i._result[n]=[u],u=[u]),"concat"===r?i._result[n]=i._result[n].concat(s):i._result[n][r].apply(i._result[n],c),e(u,i._result[n])||i._stringify(),i},remove:function(r){var e=this;if(r===t)return $.isEmptyObject(e._result)?e:(e._result={},e._stringify());var n,s=$.isArray(r),i=s?r:[r],u=e._result;return $.each(i,function(t,r){delete u[r],n=1}),n&&e._stringify(),e}},$.each(["push","pop","unshift","shift","splice","concat"],function(t,e){r.prototype[e]=function(){var t=[].slice.call(arguments,0);return t.unshift(e),this._transport.apply(this,t)}})}();