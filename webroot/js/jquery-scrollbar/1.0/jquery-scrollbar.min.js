/*!
 * jquery.fn.scrollbar
 * @author 云淡然 http://qianduanblog.com
 * @for ie9(含)+、chrome、firefox
 * @version 1.0
 * 2013年11月8日9:49:18
 */
!function(a,t){function e(a,t,e){a.addEventListener(t,e,0)}var o="jquery-scrollbar____",s=0,i={css:"http://ydr0.qiniudn.com/css/jquery-scrollbar/default.min.css",canMousewheel:!0,canSwipe:!0,duration:100,speed:10,width:"auto",height:"auto"};a.fn.scrollbar=function(){var n,r=arguments,d=r.length,c=a(this).eq(0),l=c.data(o+"hasInit");return"x"==r[0]&&1==d&&l?(n=c.data(o+"$barX"),n.css("left")):"y"==r[0]&&1==d&&l?(n=c.data(o+"$barY"),n.css("top")):this.each(function(){function n(){f.wrap('<div class="'+o+'body"></div>'),h=f.parent("."+o+"body"),h.wrap('<div class="'+o+'container"></div>'),u=h.parent("."+o+"container"),/auto/.test(y.width)||(u.width(y.width),p=a('<div class="'+o+'x"></div>').appendTo(u)),/auto/.test(y.height)||(u.height(y.height),v=a('<div class="'+o+'y"></div>').appendTo(u)),f.data(o+"hasInit",1),f.data(o+"options",y),f.data(o+"$body",h),f.data(o+"$barX",p),f.data(o+"$barY",v),u.css({overflow:"hidden",position:"relative"}),p&&d(f,0),v&&c(f,0),y.canMousewheel&&a.fn.mousewheel&&u.mousewheel({onmousewheel:function(a){v&&a&&(v.addClass("hover"),c(f,-a*y.speed))},onmousewheelstop:function(){v&&v.removeClass("hover active")}}),y.canSwipe&&a.fn.swipe&&(f.swipe({onswipeleft:function(a){d(f,a,!0)},onswiperight:function(a){d(f,-a,!0)},onswipetop:function(a){c(f,a,!0)},onswipebottom:function(a){c(f,-a,!0)}}),e(f[0],"touchstart",function(){p&&p.addClass("hover"),v&&v.addClass("hover")}),e(f[0],"touchend",function(){p&&p.removeClass("hover active"),v&&v.removeClass("hover active")})),p&&p.mousedown(function(t){var e=t.pageX;return a(this).addClass("active").data(o+"isScroll",1).data(o+"x0",e),!1}),v&&v.mousedown(function(t){var e=t.pageY;return a(this).addClass("active").data(o+"isScroll",1).data(o+"y0",e),!1}),a(document).mousemove(function(a){var t=0,e=0,s=a.pageX,i=a.pageY;return p&&p.data(o+"isScroll")?(t=p.data(o+"x0"),p.data(o+"x0",s),d(f,s-t),!1):v&&v.data(o+"isScroll")?(e=v.data(o+"y0"),v.data(o+"y0",i),c(f,i-e),!1):void 0}).mouseup(function(){p&&p.removeClass("hover active").data(o+"isScroll",0),v&&v.removeClass("hover active").data(o+"isScroll",0)})}function d(a,t,e,s){var i=a.data(o+"options"),n=a.data(o+"$body"),r=a.data(o+"$barX"),d=parseInt(r.css("left")),c=d+t,l=a.outerWidth(),h=i.width/l,u=h*i.width,p=i.width-u,v=0;0>=c&&(c=0),c>=p&&(c=p),v=-c/h,a.data(o+"max-barLeft",p),r.width(u),e?(r.stop(1,1).animate({left:c},s||i.duration),n.stop(1,1).animate({"margin-left":v},s||i.duration)):(r.css("left",c),n.css("margin-left",v))}function c(a,t,e,s){var i=a.data(o+"options"),n=a.data(o+"$body"),r=a.data(o+"$barY"),d=parseInt(r.css("top")),c=d+t,l=a.outerHeight(),h=i.height/l,u=h*i.height,p=i.height-u,v=0;0>=c&&(c=0),c>=p&&(c=p),v=-c/h,a.data(o+"max-barTop",p),r.height(u),e?(r.stop(1,1).animate({top:c},s||i.duration),n.stop(1,1).animate({"margin-top":v},s||i.duration)):(r.css("top",c),n.css("margin-top",v))}var l,h,u,p,v,f=a(this),m=0,w=0,b=0,g=0;if(f.data(o+"hasInit")===t&&f.data(o+"hasInit",0),l=f.data(o+"hasInit"),"string"==a.type(r[0])&&l)m=parseInt(f.scrollbar("x")),b=parseInt(f.scrollbar("y")),w=f.data(o+"max-barLeft"),g=f.data(o+"max-barTop"),"x"==r[0]?d(f,r[1]-m,!0,r[2]):"y"==r[0]?c(f,r[1]-b,!0,r[2]):"top"==r[0]?c(f,-b,!0,r[1]):"bottom"==r[0]?c(f,g-b,!0,r[1]):"left"==r[0]?d(f,-m,!0,r[1]):"right"==r[0]&&d(f,w-m,!0,r[1]);else if("object"==a.type(r[0])&&!l){var y=a.extend({},i,r[0]);s?n():a('<link rel="stylesheet" href="'+y.css+'" />').appendTo("head").load(function(){s=1,n()})}})},a.fn.scrollbar.defaults=i}(jQuery);