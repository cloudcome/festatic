/*!
 * jquery.fn.drag
 * @author 云淡然 http://qianduanblog.com
 * @for ie9(含)+、chrome、firefox
 * @version 1.1
 * 2013-11-23 16:24:47
 */
!function(n){var o={handle:"",ondragstart:function(){},ondrag:function(){},ondragend:function(){}};n.fn.drag=function(e){return this.each(function(){function s(){r.css("position")&&"static"!=r.css("position")||r.css({position:"relative",left:0,top:0})}function t(o){l=1,d.screenX=o.screenX,d.screenY=o.screenY,d.left=r.offset().left,d.top=r.offset().top,r.css("z-index",n.isNumeric(a)?1*a+1:1),i.ondragstart.call(r,o),n("body").css("cursor","move")}function c(o,e){l&&r.offset({left:o.screenX-d.screenX+d.left,top:o.screenY-d.screenY+d.top}),e&&l?(r.css("z-index",a),l=0,i.ondragend.call(r,o),n("body").css("cursor",f)):i.ondrag.call(r,o)}var r=n(this),i=n.extend({},o,e),u=i.handle?r.find(i.handle):r,d=(n(i.zoom),{}),f=n("body").css("cursor"),a=0,l=0;u.css("cursor","move"),s(r),u.mousedown(function(n){return l?void 0:(a=r.css("z-index"),t(n),!1)}),n(document).mousemove(function(n){return l?(c(n),!1):void 0}).mouseup(function(n){return l?(c(n,!0),!1):void 0})})},n.fn.drag.defaults=o}(jQuery);